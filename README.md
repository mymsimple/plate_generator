# 中国车牌号码模拟生成器

## 2020.5--yanmei改动说明
## 生成车牌+样本增强,解决车牌识别项目样本不均衡问题
#### 因业务方反映有些省份识别不对，比如"琼"等
- 统计了之前71万训练样本中各个字符出现的次数，发现英文和数字相对均衡，但是省份汉字极度不均衡，数量如下：
(皖 454176 鲁 62391 苏 40890 辽 14794 鄂 11496 蒙 10560 豫 9854 黑 8053 湘 7985 京 7577
陕 7199 浙 6748 吉 6181 粤 6073 渝 5854 川 5660 晋 4947 甘 4893 赣 4162 津 3843 宁 3818
沪 3222 桂 3129 闽 1012 贵 860 云 109 新 46 青 28 琼 22 藏 2)
- 修改了代码，只生成蓝色车牌
- 找了几张不同颜色车的背景图片，切成小图，做背景图，将生成的车牌贴在背景图上，再随机添加干扰线、干扰点、随机旋转、随机切边等，为了增加生成样本的真实性
- 增加了样本增强代码，目前增强方法20种，保证增强后的车牌颜色不变色
- 皖、鲁、苏三个字数量太多，减少样本数量，随机抽取2.5w张
- 将省份汉字分成三组，做不同数量的生成和增强，保证每个汉字的车牌数量在2w-2.5w之间

#### 20200604 第一次训练（删除"皖、鲁、苏"三个数量太高的，每个字保留2.5w张）
- 训练集：（生成+增强）48.3w +（原）23.5w = 71w
- 验证集：（原）762张
- train_acc = 0.99
- val_acc = 0.90
- 在训练集上表现很好，但是在验证集上不太好，并且用训练好的模型做预测，正确率只有0.89,很多字母数字识别不对

#### 20200605 第二次训练（原始样本全部保留）
- 训练集：（生成+增强）48.3w +（原）71w = 119w
- 验证集：（原）762张 + （业务方给的）51张 = 813张
- train_acc = 0.9862
- val_acc = 0.9106

#### 新老模型预测结果比较：
- acc_old = (714+19)/813 = 733/813 = 0.9016
- acc_new = (736+5) /813 = 741/813 = 0.9114
- (备注：业务提供的68张识别错误图片，删除网页截图和非车牌图片，剩余51张，其中，原来模型识别正确的19张，识别错误的32张)




#### 介绍
中国车牌号码模拟生成器

#### 支持车牌
黄色、白色、黑色、新能源车牌

单层、双层车牌


#### 安装教程

1.  python >= 3.5
2.  cv2
3.  numpy

#### 使用说明

运行python generate_multi_plate.py，生成车牌图片并保存在multi_val文件夹中
